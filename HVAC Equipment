/*HVAC installation is the largest barrier to opening new Planet Fitness locations.
Wang et al. (2022) outline automated HVAC design, considering factors like regional environments and building materials.
In turn, this refines options for equipment like air filters and heat pumps.
This database aims to support this final phase of automated HVAC design.
See ERD and more at
https://www.linkedin.com/in/annkevans/details/featured/1709718630852/single-media-viewer/?
WANG ET AL.
https://doi.org/10.1007/s12273-021-0883-7
*/

DROP TABLE IF EXISTS AIR_SOURCE_HEAT_PUMP CASCADE;
DROP TABLE IF EXISTS FRESH_AIR_GRILLE CASCADE;
DROP TABLE IF EXISTS AIR_FILTER CASCADE;
DROP TABLE IF EXISTS AIR_DUCT CASCADE;
DROP TABLE IF EXISTS DIFFUSER CASCADE;
DROP TABLE IF EXISTS EQUIP_LIST_FOR_AUTO_SIZING CASCADE;
DROP TABLE IF EXISTS MANUFACTURER_INFO CASCADE;

CREATE TABLE MANUFACTURER_INFO (
MANU_CODE CHAR(3) NOT NULL,
MANU_CONTACT VARCHAR(45),
MANU_NAME VARCHAR(30) NOT NULL,
MANU_ADDRESS_ONE VARCHAR(45),
MANU_ADDRESS_TWO VARCHAR(45),
MANU_CITY VARCHAR(30),
MANU_STATE VARCHAR(2),
MANU_ZIP CHAR(5),
MANU_PHONE CHAR(14),
MANU_EMAIL VARCHAR(45),
CONSTRAINT PKMANUFACTURER_INFO PRIMARY KEY (MANU_CODE)
);

CREATE TABLE EQUIP_LIST_FOR_AUTO_SIZING (
NO_MAIN_EQUIP_TYPE CHAR(3) NOT NULL,
/*Cold and heat source, Valves and sensors, or Fresh air system*/
CATEGORY VARCHAR(20) NOT NULL,
MAIN_EQUIP_TYPE_DESCRIP VARCHAR(30) NOT NULL,
CONSTRAINT PKEQUIP_LIST_FOR_AUTO_SIZING PRIMARY KEY (NO_MAIN_EQUIP_TYPE)
);

CREATE TABLE AIR_SOURCE_HEAT_PUMP (
NO_AIR_SOURCE_HEAT_PUMP CHAR(5) NOT NULL,
NO_MAIN_EQUIP_TYPE CHAR(3) NOT NULL,
MANU_CODE CHAR(3) NOT NULL,
TYPE_AIR_SOURCE_HEAT_PUMP VARCHAR(30) NOT NULL,
NOM_COOL_CAP_KW INT NOT NULL,
NOM_HEAT_CAP_KW INT NOT NULL,
ELEC_PWR_OF_COOLING_KW FLOAT NOT NULL,
ELEC_PWR_OF_HEATING_KW FLOAT NOT NULL,
CONSTRAINT PKAIR_SOURCE_HEAT_PUMP PRIMARY KEY (NO_AIR_SOURCE_HEAT_PUMP),
CONSTRAINT FKNO_MAIN_EQUIP_TYPE01 FOREIGN KEY (NO_MAIN_EQUIP_TYPE)
REFERENCES EQUIP_LIST_FOR_AUTO_SIZING(NO_MAIN_EQUIP_TYPE) ON DELETE CASCADE,
CONSTRAINT FKMANU_CODE01 FOREIGN KEY (MANU_CODE)
REFERENCES MANUFACTURER_INFO(MANU_CODE) ON DELETE CASCADE
);

CREATE TABLE FRESH_AIR_GRILLE (
NO_FRESH_AIR_GRILLE CHAR(5) NOT NULL,
NO_MAIN_EQUIP_TYPE CHAR(3) NOT NULL,
MANU_CODE CHAR(3) NOT NULL,
MANU_DESCRIPTION VARCHAR(90) NOT NULL,
FRESH_AIR_GRILLE_WIDTH_IN FLOAT NOT NULL,
FRESH_AIR_GRILLE_HEIGHT_IN FLOAT NOT NULL,
CONSTRAINT PKFRESH_AIR_GRILLE PRIMARY KEY (NO_FRESH_AIR_GRILLE),
CONSTRAINT FKNO_MAIN_EQUIP_TYPE02 FOREIGN KEY (NO_MAIN_EQUIP_TYPE)
REFERENCES EQUIP_LIST_FOR_AUTO_SIZING(NO_MAIN_EQUIP_TYPE) ON DELETE CASCADE,
CONSTRAINT FKMANU_CODE02 FOREIGN KEY (MANU_CODE)
REFERENCES MANUFACTURER_INFO(MANU_CODE) ON DELETE CASCADE
);

CREATE TABLE AIR_FILTER (
NO_AIR_FILTER CHAR(5) NOT NULL,
NO_MAIN_EQUIP_TYPE CHAR(3) NOT NULL,
MANU_CODE CHAR(3) NOT NULL,
MANU_DESCRIPTION VARCHAR(90) NOT NULL,
RATING_TYPE VARCHAR(4),
/*MERV vs MPR vs FPR*/
RATING INT(4),
AIR_FILTER_WIDTH_IN FLOAT NOT NULL,
AIR_FILTER_HEIGHT_IN FLOAT NOT NULL,
AIR_FILTER_DEPTH_IN FLOAT NOT NULL,
CONSTRAINT PKAIR_FILTER PRIMARY KEY (NO_AIR_FILTER),
CONSTRAINT FKNO_MAIN_EQUIP_TYPE03 FOREIGN KEY (NO_MAIN_EQUIP_TYPE)
REFERENCES EQUIP_LIST_FOR_AUTO_SIZING(NO_MAIN_EQUIP_TYPE) ON DELETE CASCADE,
CONSTRAINT FKMANU_CODE03 FOREIGN KEY (MANU_CODE)
REFERENCES MANUFACTURER_INFO(MANU_CODE) ON DELETE CASCADE
);

CREATE TABLE AIR_DUCT (
NO_AIR_DUCT CHAR(5) NOT NULL,
NO_MAIN_EQUIP_TYPE CHAR(3) NOT NULL,
MANU_CODE CHAR(3) NOT NULL,
MANU_DESCRIPTION VARCHAR(90) NOT NULL,
TYPE_AIR_DUCT VARCHAR(8) NOT NULL,
/*Flexible vs Fixed Metal*/
AIR_DUCT_DIAMETER FLOAT NOT NULL,
AIR_DUCT_LENGTH FLOAT NOT NULL,
R_VALUE FLOAT NOT NULL,
CONSTRAINT PKAIR_DUCT PRIMARY KEY (NO_AIR_DUCT),
CONSTRAINT FKNO_MAIN_EQUIP_TYPE04 FOREIGN KEY (NO_MAIN_EQUIP_TYPE)
REFERENCES EQUIP_LIST_FOR_AUTO_SIZING(NO_MAIN_EQUIP_TYPE) ON DELETE CASCADE,
CONSTRAINT FKMANU_CODE04 FOREIGN KEY (MANU_CODE)
REFERENCES MANUFACTURER_INFO(MANU_CODE) ON DELETE CASCADE
);

CREATE TABLE DIFFUSER (
NO_DIFFUSER CHAR(5) NOT NULL,
NO_MAIN_EQUIP_TYPE CHAR(3) NOT NULL,
MANU_CODE CHAR(3) NOT NULL,
MANU_DESCRIPTION VARCHAR(200) NOT NULL,
TYPE_DIFFUSER VARCHAR(90) NOT NULL,
SQUARED_IN FLOAT,
DIAMETER_DUCT_IN FLOAT,
DIAMETER_OUTSIDE_IN FLOAT,
COLLAR_IN FLOAT,
CONSTRAINT PKDIFFUSER PRIMARY KEY (NO_DIFFUSER),
CONSTRAINT FKNO_MAIN_EQUIP_TYPE05 FOREIGN KEY (NO_MAIN_EQUIP_TYPE)
REFERENCES EQUIP_LIST_FOR_AUTO_SIZING(NO_MAIN_EQUIP_TYPE) ON DELETE CASCADE,
CONSTRAINT FKMANU_CODE05 FOREIGN KEY (MANU_CODE)
REFERENCES MANUFACTURER_INFO(MANU_CODE) ON DELETE CASCADE
);

INSERT INTO MANUFACTURER_INFO VALUES ('276', 'Steven R', '3M Filtrete', '3M Center', 'Building 225-3S-05', 'St. Paul', 'MN', '55144', '(808)-388-3458', '3mproducts.filtrete.us@mmm.com');
INSERT INTO MANUFACTURER_INFO VALUES ('618', '', 'AAF Flanders', '9920 Corporate Campus Drive', 'Suite 2200', 'Louisville', 'KY', '40223', '(888)-223-2003', '');
INSERT INTO MANUFACTURER_INFO VALUES ('619', '', 'Carrier', '13995 Pasteur Boulevard', '', 'Palm Beach Gardens', 'FL', '33418', '(800)-227-7437', '');
INSERT INTO MANUFACTURER_INFO VALUES ('620', '', 'Everbilt', '11419 Ferrell Dr.', '', 'Farmers Branch', 'TX', '75234', '(800)-430-3376', '');
INSERT INTO MANUFACTURER_INFO VALUES ('623', '', 'Duravent', '28 W. Adams', 'Suite 1810', 'Detroit', 'MI', '48226', '', '');
INSERT INTO MANUFACTURER_INFO VALUES ('648', '', 'Honeywell', '', '', '', '', '', '', '');
INSERT INTO MANUFACTURER_INFO VALUES ('658', '', 'Master Flow', '', '', '', '', '', '', '');
INSERT INTO MANUFACTURER_INFO VALUES ('686', '', 'ULINE', '12575 Uline Drive', '', 'Pleasant Prairie', 'WI', '53158', '(800)-295-5510', 'customer.service@uline.com');

INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('001', 'Cold and heat source', 'Air source heat pump');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('002', 'Cold and heat source', 'Water separator');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('003', 'Cold and heat source', 'Water collector');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('004', 'Cold and heat source', 'Electronic decontaminator');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('005', 'Cold and heat source', 'Softened water unit');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('006', 'Cold and heat source', 'Softened water box');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('007', 'Cold and heat source', 'Feedwater pump');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('008', 'Cold and heat source', 'Condensate tank');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('009', 'Cold and heat source', 'Condensate pump');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('010', 'Cold and heat source', 'Steam-water heat exchanger');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('011', 'Cold and heat source', 'Water pipe');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('012', 'Valves and sensors', 'Ball valve');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('013', 'Valves and sensors', 'Shut-off valve');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('014', 'Valves and sensors', 'Sluice valve');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('015', 'Valves and sensors', 'Manual control valve');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('016', 'Valves and sensors', 'Quick-release valve ');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('017', 'Valves and sensors', 'Balance valve');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('018', 'Valves and sensors', 'Differential pressure switch');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('019', 'Valves and sensors', 'Electric two-way valve');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('020', 'Valves and sensors', 'Thermometer');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('021', 'Valves and sensors', 'Check valve');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('022', 'Valves and sensors', 'Flowmeter');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('023', 'Fresh air system', 'Fresh air grille');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('024', 'Fresh air system', 'Fresh air valve');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('025', 'Fresh air system', 'Air filter');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('026', 'Fresh air system', 'Supply air fan');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('027', 'Fresh air system', 'Air duct');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('028', 'Fresh air system', 'Short supply air pipe');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('029', 'Fresh air system', 'Anechoic chamber');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('030', 'Fresh air system', 'Air volume regulator');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('031', 'Fresh air system', 'Air valve controller');
INSERT INTO EQUIP_LIST_FOR_AUTO_SIZING VALUES ('032', 'Fresh air system', 'Diffuser');

INSERT INTO AIR_SOURCE_HEAT_PUMP VALUES ('94271', '001', '619', 'Scroll', '197', '218', '64.5', '63.7');
INSERT INTO AIR_SOURCE_HEAT_PUMP VALUES ('25960', '001', '619', 'Scroll', '378', '432', '128.2', '128');

INSERT INTO FRESH_AIR_GRILLE VALUES ('23114', '023', '623', '92HVO — Steel Double Deflection Grille, No damper', '4', '6');
INSERT INTO FRESH_AIR_GRILLE VALUES ('16877', '023', '623', '92HVO — Steel Double Deflection Grille, No damper', '4', '8');
INSERT INTO FRESH_AIR_GRILLE VALUES ('60217', '023', '623', '92HVO — Steel Double Deflection Grille, No damper', '4', '10');
INSERT INTO FRESH_AIR_GRILLE VALUES ('59101', '023', '623', '92HVO — Steel Double Deflection Grille, No damper', '4', '12');
INSERT INTO FRESH_AIR_GRILLE VALUES ('49699', '023', '623', '92HVO — Steel Double Deflection Grille, No damper', '4', '14');
INSERT INTO FRESH_AIR_GRILLE VALUES ('13834', '023', '623', '92HVO — Steel Double Deflection Grille, No damper', '4', '16');
INSERT INTO FRESH_AIR_GRILLE VALUES ('55306', '023', '623', '92HVO — Steel Double Deflection Grille, No damper', '4', '18');
INSERT INTO FRESH_AIR_GRILLE VALUES ('55727', '023', '623', '92HVO — Steel Double Deflection Grille, No damper', '4', '20');
INSERT INTO FRESH_AIR_GRILLE VALUES ('95054', '023', '623', '92HVO — Steel Double Deflection Grille, No damper', '4', '22');
INSERT INTO FRESH_AIR_GRILLE VALUES ('96502', '023', '623', '92HVO — Steel Double Deflection Grille, No damper', '4', '24');
INSERT INTO FRESH_AIR_GRILLE VALUES ('34804', '023', '623', '92HVO — Steel Double Deflection Grille, No damper', '4', '26');
INSERT INTO FRESH_AIR_GRILLE VALUES ('64408', '023', '623', '92HVO — Steel Double Deflection Grille, No damper', '4', '28');
INSERT INTO FRESH_AIR_GRILLE VALUES ('36164', '023', '623', '92HVO — Steel Double Deflection Grille, No damper', '4', '30');
INSERT INTO FRESH_AIR_GRILLE VALUES ('84468', '023', '623', '92HVO — Steel Double Deflection Grille, No damper', '4', '32');
INSERT INTO FRESH_AIR_GRILLE VALUES ('41922', '023', '623', '92HVO — Steel Double Deflection Grille, No damper', '4', '34');
INSERT INTO FRESH_AIR_GRILLE VALUES ('88097', '023', '623', '92HVO — Steel Double Deflection Grille, No damper', '4', '36');

INSERT INTO AIR_FILTER VALUES ('33217', '025', '686', 'S-24150', 'MERV', '8', '14', '20', '1');
INSERT INTO AIR_FILTER VALUES ('16359', '025', '686', 'S-24151', 'MERV', '8', '14', '25', '1');
INSERT INTO AIR_FILTER VALUES ('21972', '025', '686', 'S-24673', 'MERV', '8', '16', '16', '1');
INSERT INTO AIR_FILTER VALUES ('89221', '025', '686', 'S-22965', 'MERV', '8', '16', '20', '1');
INSERT INTO AIR_FILTER VALUES ('27110', '025', '686', 'S-22966', 'MERV', '8', '16', '25', '1');
INSERT INTO AIR_FILTER VALUES ('47284', '025', '686', 'S-24674', 'MERV', '8', '18', '24', '1');
INSERT INTO AIR_FILTER VALUES ('45935', '025', '686', 'S-22967', 'MERV', '8', '20', '20', '1');
INSERT INTO AIR_FILTER VALUES ('30454', '025', '686', 'S-22968', 'MERV', '8', '20', '25', '1');
INSERT INTO AIR_FILTER VALUES ('11683', '025', '686', 'S-24675', 'MERV', '8', '20', '30', '1');
INSERT INTO AIR_FILTER VALUES ('60127', '025', '686', 'S-22969', 'MERV', '8', '24', '24', '1');
INSERT INTO AIR_FILTER VALUES ('47867', '025', '686', 'S-24678', 'MERV', '13', '16', '25', '1');
INSERT INTO AIR_FILTER VALUES ('87860', '025', '686', 'S-24152', 'MERV', '13', '20', '20', '1');

INSERT INTO AIR_DUCT VALUES ('59344', '027', '658', 'Insulated Flexible Ducts R6 Silver Jacket', 'Flexible', '4', '12', '6');
INSERT INTO AIR_DUCT VALUES ('23306', '027', '658', 'Insulated Flexible Ducts R6 Silver Jacket', 'Flexible', '4', '25', '6');
INSERT INTO AIR_DUCT VALUES ('64593', '027', '658', 'Insulated Flexible Ducts R6 Silver Jacket', 'Flexible', '5', '25', '6');
INSERT INTO AIR_DUCT VALUES ('89615', '027', '658', 'Insulated Flexible Ducts R6 Silver Jacket', 'Flexible', '6', '25', '6');
INSERT INTO AIR_DUCT VALUES ('56164', '027', '658', 'Insulated Flexible Ducts R6 Silver Jacket', 'Flexible', '7', '25', '6');
INSERT INTO AIR_DUCT VALUES ('43956', '027', '658', 'Insulated Flexible Ducts R6 Silver Jacket', 'Flexible', '8', '25', '6');
INSERT INTO AIR_DUCT VALUES ('17096', '027', '658', 'Insulated Flexible Ducts R6 Silver Jacket', 'Flexible', '10', '25', '6');
INSERT INTO AIR_DUCT VALUES ('64883', '027', '658', 'Insulated Flexible Ducts R6 Silver Jacket', 'Flexible', '12', '25', '6');
INSERT INTO AIR_DUCT VALUES ('75172', '027', '658', 'Insulated Flexible Ducts R6 Silver Jacket', 'Flexible', '14', '25', '6');
INSERT INTO AIR_DUCT VALUES ('41344', '027', '658', 'Insulated Flexible Ducts R8 Silver Jacket', 'Flexible', '4', '25', '8');
INSERT INTO AIR_DUCT VALUES ('31610', '027', '658', 'Insulated Flexible Ducts R8 Silver Jacket', 'Flexible', '5', '25', '8');
INSERT INTO AIR_DUCT VALUES ('31174', '027', '658', 'Insulated Flexible Ducts R8 Silver Jacket', 'Flexible', '6', '25', '8');
INSERT INTO AIR_DUCT VALUES ('54126', '027', '658', 'Insulated Flexible Ducts R8 Silver Jacket', 'Flexible', '7', '25', '8');
INSERT INTO AIR_DUCT VALUES ('32711', '027', '658', 'Insulated Flexible Ducts R8 Silver Jacket', 'Flexible', '8', '25', '8');
INSERT INTO AIR_DUCT VALUES ('23264', '027', '658', 'Insulated Flexible Ducts R8 Silver Jacket', 'Flexible', '10', '25', '8');
INSERT INTO AIR_DUCT VALUES ('68742', '027', '658', 'Insulated Flexible Ducts R8 Silver Jacket', 'Flexible', '12', '25', '8');
INSERT INTO AIR_DUCT VALUES ('10624', '027', '658', 'Insulated Flexible Ducts R8 Silver Jacket', 'Flexible', '14', '25', '8');

INSERT INTO DIFFUSER VALUES ('23114', '032', '623', '20 — Steel Round Ceiling Diffuser', 'Round Ceiling Diffuser', NULL, '6.5', '11.0125', NULL);
INSERT INTO DIFFUSER VALUES ('38921', '032', '623', '20 — Steel Round Ceiling Diffuser', 'Round Ceiling Diffuser', NULL, '8.5', '14.75', NULL);
INSERT INTO DIFFUSER VALUES ('50406', '032', '623', '20 — Steel Round Ceiling Diffuser', 'Round Ceiling Diffuser', NULL, '10.5', '18.25', NULL);
INSERT INTO DIFFUSER VALUES ('74908', '032', '623', '20 — Steel Round Ceiling Diffuser', 'Round Ceiling Diffuser', NULL, '12.5', '22', NULL);
INSERT INTO DIFFUSER VALUES ('97539', '032', '623', '20 — Steel Round Ceiling Diffuser', 'Round Ceiling Diffuser', NULL, '14.5', '26', NULL);
INSERT INTO DIFFUSER VALUES ('89930', '032', '623', '20 — Steel Round Ceiling Diffuser', 'Round Ceiling Diffuser', NULL, '16.5', '29', NULL);
INSERT INTO DIFFUSER VALUES ('70788', '032', '623', '20 — Steel Round Ceiling Diffuser', 'Round Ceiling Diffuser', NULL, '18.5', '33.5', NULL);
INSERT INTO DIFFUSER VALUES ('71110', '032', '623', '24 — Steel, Step Down, Square Diffuser', 'Square Ceiling Diffuser', '6', NULL, NULL, NULL);
INSERT INTO DIFFUSER VALUES ('32411', '032', '623', '24 — Steel, Step Down, Square Diffuser', 'Square Ceiling Diffuser', '8', NULL, NULL, NULL);
INSERT INTO DIFFUSER VALUES ('78489', '032', '623', '24 — Steel, Step Down, Square Diffuser', 'Square Ceiling Diffuser', '10', NULL, NULL, NULL);
INSERT INTO DIFFUSER VALUES ('39805', '032', '623', '24 — Steel, Step Down, Square Diffuser', 'Square Ceiling Diffuser', '12', NULL, NULL, NULL);
INSERT INTO DIFFUSER VALUES ('29087', '032', '623', '24 — Steel, Step Down, Square Diffuser', 'Square Ceiling Diffuser', '14', NULL, NULL, NULL);
INSERT INTO DIFFUSER VALUES ('58968', '032', '623', '24 — Steel, Step Down, Square Diffuser', 'Square Ceiling Diffuser', '16', NULL, NULL, NULL);
INSERT INTO DIFFUSER VALUES ('14113', '032', '623', '24 — Steel, Step Down, Square Diffuser', 'Square Ceiling Diffuser', '18', NULL, NULL, NULL);
INSERT INTO DIFFUSER VALUES ('81579', '032', '623', '24 — Steel, Step Down, Square Diffuser', 'Square Ceiling Diffuser', '20', NULL, NULL, NULL);
INSERT INTO DIFFUSER VALUES ('43329', '032', '623', '24 — Steel, Step Down, Square Diffuser', 'Square Ceiling Diffuser', '22', NULL, NULL, NULL);
INSERT INTO DIFFUSER VALUES ('29086', '032', '623', '24 — Steel, Step Down, Square Diffuser', 'Square Ceiling Diffuser', '24', NULL, NULL, NULL);
INSERT INTO DIFFUSER VALUES ('43330', '032', '623', '24 — Steel, Step Down, Square Diffuser', 'Square Ceiling Diffuser', '22', NULL, NULL, NULL);
INSERT INTO DIFFUSER VALUES ('29089', '032', '623', '24 — Steel, Step Down, Square Diffuser', 'Square Ceiling Diffuser', '24', NULL, NULL, NULL);


/*This query pulls from the five current equipment tables. The query matches the primary key identifying the manufacturer name to count the number of times each manufacturer is represented within the database. A similar query among automated selection results could offer leverage when bargaining with different manufacturers.*/
DROP VIEW IF EXISTS EQUIPMENT_COUNTS_BY_MANU;

CREATE VIEW EQUIPMENT_COUNTS_BY_MANU AS
SELECT MANUFACTURER_INFO.MANU_NAME, COUNT(AIR_DUCT.MANU_CODE) AS COUNT_AMONG_EQUIP_TABLES
FROM MANUFACTURER_INFO
JOIN AIR_DUCT ON AIR_DUCT.MANU_CODE = MANUFACTURER_INFO.MANU_CODE
UNION
SELECT MANUFACTURER_INFO.MANU_NAME, COUNT(AIR_FILTER.MANU_CODE)
FROM MANUFACTURER_INFO
JOIN AIR_FILTER ON AIR_FILTER.MANU_CODE = MANUFACTURER_INFO.MANU_CODE
UNION
SELECT MANUFACTURER_INFO.MANU_NAME, COUNT(AIR_SOURCE_HEAT_PUMP.MANU_CODE)
FROM MANUFACTURER_INFO
JOIN AIR_SOURCE_HEAT_PUMP ON AIR_SOURCE_HEAT_PUMP.MANU_CODE = MANUFACTURER_INFO.MANU_CODE
UNION
SELECT MANUFACTURER_INFO.MANU_NAME, COUNT(DIFFUSER.MANU_CODE)
FROM MANUFACTURER_INFO
JOIN DIFFUSER ON DIFFUSER.MANU_CODE = MANUFACTURER_INFO.MANU_CODE
UNION
SELECT MANUFACTURER_INFO.MANU_NAME, COUNT(FRESH_AIR_GRILLE.MANU_CODE)
FROM MANUFACTURER_INFO
JOIN FRESH_AIR_GRILLE ON FRESH_AIR_GRILLE.MANU_CODE = MANUFACTURER_INFO.MANU_CODE
GROUP BY MANU_NAME
ORDER BY MANU_NAME;

SELECT * FROM EQUIPMENT_COUNTS_BY_MANU;

SELECT MANU_NAME, SUM(COUNT_AMONG_EQUIP_TABLES) AS MANU_REPRESENTATION FROM EQUIPMENT_COUNTS_BY_MANU
GROUP BY MANU_NAME
ORDER BY MANU_NAME;


/*This query sets threshholds for air filter ratings.*/
SELECT * FROM AIR_FILTER
WHERE RATING_TYPE = 'MERV' AND RATING = 13
OR RATING_TYPE = 'MPR' AND RATING = 2800
OR RATING_TYPE = 'FPR' AND RATING = 10;


/*This query finds round diffusers that match air ducts within a half inch*/
SELECT DISTINCT(NO_DIFFUSER), DIAMETER_DUCT_IN
FROM DIFFUSER
WHERE (DIAMETER_DUCT_IN = 14.5 AND (DIAMETER_DUCT_IN)-.5)
OR (DIAMETER_DUCT_IN = 14.5 AND (DIAMETER_DUCT_IN)+.5) IN
	(SELECT AIR_DUCT_DIAMETER
	FROM AIR_DUCT)
GROUP BY NO_DIFFUSER
ORDER BY NO_DIFFUSER, DIAMETER_DUCT_IN;
